<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>التنبيهات</title>
</head>
<body>
    <h1>التنبيهات</h1>

    <!-- قسم عرض التنبيهات -->
    <ul id="notifications">
        <!-- سيتم ملء هذا القسم بالتنبيهات غير المقروءة عبر AJAX -->
    </ul>

    <!-- كود الجافاسكريبت لجلب التنبيهات الفورية -->
    <script>
        function fetchNotifications() {
            fetch('/unread_notifications')
                .then(response => response.json())
                .then(data => {
                    let notificationsContainer = document.getElementById('notifications');
                    notificationsContainer.innerHTML = '';

                    data.forEach(notification => {
                        let item = document.createElement('li');
                        item.textContent = `${notification.message} - ${notification.timestamp}`;
                        notificationsContainer.appendChild(item);
                    });
                });
        }

        // جلب التنبيهات كل 30 ثانية
        setInterval(fetchNotifications, 30000);

        // استدعاء التنبيهات عند تحميل الصفحة مباشرة
        fetchNotifications();
    </script>
</body>
</html>
